{"ast":null,"code":"import \"core-js/modules/es.symbol\";\nimport \"core-js/modules/es.symbol.description\";\nimport \"core-js/modules/es.symbol.iterator\";\nimport \"core-js/modules/es.array.concat\";\nimport \"core-js/modules/es.array.filter\";\nimport \"core-js/modules/es.array.for-each\";\nimport \"core-js/modules/es.array.from\";\nimport \"core-js/modules/es.array.iterator\";\nimport \"core-js/modules/es.array.map\";\nimport \"core-js/modules/es.array.slice\";\nimport \"core-js/modules/es.function.name\";\nimport \"core-js/modules/es.object.get-own-property-descriptor\";\nimport \"core-js/modules/es.object.get-own-property-descriptors\";\nimport \"core-js/modules/es.object.keys\";\nimport \"core-js/modules/es.object.to-string\";\nimport \"core-js/modules/es.regexp.to-string\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/web.dom-collections.for-each\";\nimport \"core-js/modules/web.dom-collections.iterator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { GET_ALL_FILMS_FOR_RENDER, SELECTED_TAB_INDEX, UPDATE_SEARCH_TERM, ADD_MOVIE, UPDATE_MOVIE, GET_MOVIE } from '../actions';\nvar initialState = {\n  movies: [],\n  movieDetails: {},\n  sortBy: '',\n  selectedTabIndex: 0,\n  searchTerm: '',\n  filter: '',\n  offset: 0\n};\nexport var homePage = function homePage() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_ALL_FILMS_FOR_RENDER:\n      var movieList = state.offset === 0 && action.offset !== 9 || action.shouldUpdateState ? action.data : state.offset === action.offset ? state.movies : [].concat(_toConsumableArray(state.movies), _toConsumableArray(action.data));\n      return _objectSpread(_objectSpread({}, state), {}, {\n        movies: movieList,\n        sortBy: action.sortBy,\n        searchTerm: action.searchTerm,\n        filter: action.filter,\n        offset: action.offset\n      });\n\n    case SELECTED_TAB_INDEX:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selectedTabIndex: action.payload\n      });\n\n    case GET_MOVIE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        movieDetails: action.data\n      });\n\n    case UPDATE_SEARCH_TERM:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        searchTerm: action.payload\n      });\n\n    case ADD_MOVIE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        movies: [action.payload].concat(_toConsumableArray(state.movies))\n      });\n\n    case UPDATE_MOVIE:\n      var updatedList = state.movies.map(function (movie) {\n        return movie.id === action.id ? action.payload : movie;\n      });\n      return _objectSpread(_objectSpread({}, state), {}, {\n        movies: updatedList\n      });\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["C:/Users/Siarhei_Ivaneichyk/Desktop/reactMentoring/reactApplication/src/redux/reducers/homePage.js"],"names":["GET_ALL_FILMS_FOR_RENDER","SELECTED_TAB_INDEX","UPDATE_SEARCH_TERM","ADD_MOVIE","UPDATE_MOVIE","GET_MOVIE","initialState","movies","movieDetails","sortBy","selectedTabIndex","searchTerm","filter","offset","homePage","state","action","type","movieList","shouldUpdateState","data","payload","updatedList","map","movie","id"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,wBAAT,EAAmCC,kBAAnC,EAAuDC,kBAAvD,EAA2EC,SAA3E,EAAsFC,YAAtF,EAAoGC,SAApG,QAAqH,YAArH;AAEA,IAAMC,YAAY,GAAG;AACjBC,EAAAA,MAAM,EAAE,EADS;AAEjBC,EAAAA,YAAY,EAAE,EAFG;AAGjBC,EAAAA,MAAM,EAAE,EAHS;AAIjBC,EAAAA,gBAAgB,EAAE,CAJD;AAKjBC,EAAAA,UAAU,EAAE,EALK;AAMjBC,EAAAA,MAAM,EAAE,EANS;AAOjBC,EAAAA,MAAM,EAAE;AAPS,CAArB;AAUA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAkC;AAAA,MAAjCC,KAAiC,uEAAzBT,YAAyB;AAAA,MAAXU,MAAW;;AACtD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKjB,wBAAL;AACI,UAAMkB,SAAS,GAAIH,KAAK,CAACF,MAAN,KAAiB,CAAjB,IAAsBG,MAAM,CAACH,MAAP,KAAkB,CAAzC,IAA+CG,MAAM,CAACG,iBAAtD,GAA0EH,MAAM,CAACI,IAAjF,GAAwFL,KAAK,CAACF,MAAN,KAAiBG,MAAM,CAACH,MAAxB,GAAiCE,KAAK,CAACR,MAAvC,gCAAoDQ,KAAK,CAACR,MAA1D,sBAAqES,MAAM,CAACI,IAA5E,EAA1G;AACA,6CAAYL,KAAZ;AAAmBR,QAAAA,MAAM,EAAEW,SAA3B;AAAsCT,QAAAA,MAAM,EAAEO,MAAM,CAACP,MAArD;AAA6DE,QAAAA,UAAU,EAAEK,MAAM,CAACL,UAAhF;AAA4FC,QAAAA,MAAM,EAAEI,MAAM,CAACJ,MAA3G;AAAmHC,QAAAA,MAAM,EAAEG,MAAM,CAACH;AAAlI;;AACJ,SAAKZ,kBAAL;AACI,6CAAYc,KAAZ;AAAmBL,QAAAA,gBAAgB,EAAEM,MAAM,CAACK;AAA5C;;AACJ,SAAKhB,SAAL;AACI,6CAAYU,KAAZ;AAAmBP,QAAAA,YAAY,EAAEQ,MAAM,CAACI;AAAxC;;AACJ,SAAKlB,kBAAL;AACI,6CAAYa,KAAZ;AAAmBJ,QAAAA,UAAU,EAAEK,MAAM,CAACK;AAAtC;;AACJ,SAAKlB,SAAL;AACI,6CAAYY,KAAZ;AAAmBR,QAAAA,MAAM,GAAGS,MAAM,CAACK,OAAV,4BAAsBN,KAAK,CAACR,MAA5B;AAAzB;;AACJ,SAAKH,YAAL;AACI,UAAMkB,WAAW,GAAGP,KAAK,CAACR,MAAN,CAAagB,GAAb,CAAiB,UAAAC,KAAK;AAAA,eAAIA,KAAK,CAACC,EAAN,KAAaT,MAAM,CAACS,EAApB,GAAyBT,MAAM,CAACK,OAAhC,GAA0CG,KAA9C;AAAA,OAAtB,CAApB;AACA,6CAAYT,KAAZ;AAAmBR,QAAAA,MAAM,EAAEe;AAA3B;;AACJ;AACI,aAAOP,KAAP;AAhBR;AAkBH,CAnBM","sourcesContent":["import { GET_ALL_FILMS_FOR_RENDER, SELECTED_TAB_INDEX, UPDATE_SEARCH_TERM, ADD_MOVIE, UPDATE_MOVIE, GET_MOVIE } from '../actions';\r\n\r\nconst initialState = {\r\n    movies: [],\r\n    movieDetails: {},\r\n    sortBy: '',\r\n    selectedTabIndex: 0,\r\n    searchTerm: '',\r\n    filter: '',\r\n    offset: 0,\r\n};\r\n\r\nexport const homePage = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GET_ALL_FILMS_FOR_RENDER:\r\n            const movieList = (state.offset === 0 && action.offset !== 9) || action.shouldUpdateState ? action.data : state.offset === action.offset ? state.movies : [...state.movies, ...action.data];\r\n            return { ...state, movies: movieList, sortBy: action.sortBy, searchTerm: action.searchTerm, filter: action.filter, offset: action.offset };\r\n        case SELECTED_TAB_INDEX:\r\n            return { ...state, selectedTabIndex: action.payload };\r\n        case GET_MOVIE:\r\n            return { ...state, movieDetails: action.data };\r\n        case UPDATE_SEARCH_TERM:\r\n            return { ...state, searchTerm: action.payload };\r\n        case ADD_MOVIE:\r\n            return { ...state, movies: [action.payload, ...state.movies] };\r\n        case UPDATE_MOVIE:\r\n            const updatedList = state.movies.map(movie => movie.id === action.id ? action.payload : movie)\r\n            return { ...state, movies: updatedList };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}